(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bb4997ba"],{"0d83":function(t,e,s){"use strict";s.r(e);var r=s("8ccb"),i=s.n(r);for(var c in r)"default"!==c&&function(t){s.d(e,t,(function(){return r[t]}))}(c);e["default"]=i.a},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},1427:function(t,e,s){"use strict";s.r(e);var r=s("5b61"),i=s("0d83");for(var c in i)"default"!==c&&function(t){s.d(e,t,(function(){return i[t]}))}(c);s("486f");var n=s("2877"),o=Object(n["a"])(i["default"],r["a"],r["b"],!1,null,"6887e15e",null);e["default"]=o.exports},"2a8b":function(t,e,s){"use strict";s.r(e);var r=s("d758"),i=s("6331");for(var c in i)"default"!==c&&function(t){s.d(e,t,(function(){return i[t]}))}(c);s("e925");var n=s("2877"),o=Object(n["a"])(i["default"],r["a"],r["b"],!1,null,"4917bdbc",null);e["default"]=o.exports},"2fcb":function(t,e,s){},"3bf0":function(t,e,s){},"486f":function(t,e,s){"use strict";var r=s("ac8d"),i=s.n(r);i.a},"5b61":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.show.show,expression:"show.show"}],staticClass:"search-component"},[s("div",{staticClass:"search-header"},[s("div",{staticClass:"close",on:{click:function(e){t.show.show=!1}}}),s("div",{staticClass:"search-wrap"},[s("div",{staticClass:"search-input-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"search",attrs:{type:"text",placeholder:"请输入宝贝名称"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),s("button",{staticClass:"search-btn",attrs:{type:"button"},on:{click:function(e){return t.goSearch()}}})])]),t.historyKeywords.length>0?s("div",{staticClass:"search-main"},[s("div",{staticClass:"search-title-wrap"},[s("div",{staticClass:"search-title"},[t._v("最近搜索")]),s("div",{staticClass:"bin",on:{click:function(e){return t.clearHistoryKeywords()}}})]),s("div",{staticClass:"search-keywords-wrap"},t._l(t.historyKeywords,(function(e,r){return s("div",{key:r,staticClass:"keywords",on:{click:function(s){return t.goSearch(e)}}},[t._v(t._s(e))])})),0)]):t._e(),s("div",{staticClass:"search-main"},[t._m(0),s("div",{staticClass:"search-keywords-wrap"},t._l(t.hotKeywords,(function(e,r){return s("div",{key:r,staticClass:"keywords",on:{click:function(s){return t.goSearch(e.title)}}},[t._v(t._s(e.title))])})),0)])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-title-wrap"},[s("div",{staticClass:"search-title"},[t._v("热门搜索")])])}];s.d(e,"a",(function(){return r})),s.d(e,"b",(function(){return i}))},6331:function(t,e,s){"use strict";s.r(e);var r=s("7a2d"),i=s.n(r);for(var c in r)"default"!==c&&function(t){s.d(e,t,(function(){return r[t]}))}(c);e["default"]=i.a},"7a2d":function(t,e,s){"use strict";var r=s("1bd5");s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("e25e"),s("ac1f"),s("5319"),s("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(s("2fa7")),c=s("2f62"),n=r(s("28ba")),o=r(s("1427"));function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(s,!0).forEach((function(e){(0,i.default)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var u={data:function(){return{searchShow:{show:!1}}},methods:l({},(0,c.mapActions)({getClassify:"goods/getClassify"}),{},(0,c.mapMutations)({SELECT_ITEM:"goods/SELECT_ITEM"}),{goBack:function(){this.$router.go(-1)},scrollPreventDefault:function(t){t.preventDefault()},selectItem:function(t){var e=this.$refs["item"][0].offsetHeight*t,s=parseInt(this.$refs["scroll-classify"].offsetHeight/3),r=parseInt(this.$refs["scroll-classify"].scrollHeight-e);e>s&&r>this.$refs["scroll-classify"].offsetHeight&&this.myScroll.scrollTo(0,-e,1e3,n.default.utils.ease.elastic),this.SELECT_ITEM({index:t})},replacePage:function(t,e){this.$router.replace(t),this.selectItem(e)}}),computed:l({},(0,c.mapState)({classifys:function(t){return t.goods.classifys}})),components:{MySearch:o.default},created:function(){var t=this;this.cid=this.$route.query.cid?this.$route.query.cid:"",this.getClassify({success:function(){t.$nextTick((function(){if(t.myScroll.refresh(),t.classifys.length>0&&t.cid){for(var e=0;e<t.classifys.length;e++)if(t.classifys[e].cid===t.cid)break;t.selectItem(e)}else t.selectItem(0)}))}})},mounted:function(){document.title=this.$route.meta.title,this.$refs["scroll-classify"].addEventListener("touchmove",this.scrollPreventDefault),this.myScroll=new n.default(this.$refs["scroll-classify"],{scrollX:!1,scrollY:!0,preventDefault:!1})},beforeDestroy:function(){this.$refs["scroll-classify"].removeEventListener("touchmove",this.scrollPreventDefault)}};e.default=u},"841c":function(t,e,s){"use strict";var r=s("d784"),i=s("825a"),c=s("1d80"),n=s("129f"),o=s("14c3");r("search",1,(function(t,e,s){return[function(e){var s=c(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,s):new RegExp(e)[t](String(s))},function(t){var r=s(e,t,this);if(r.done)return r.value;var c=i(t),a=String(this),l=c.lastIndex;n(l,0)||(c.lastIndex=0);var u=o(c,a);return n(c.lastIndex,l)||(c.lastIndex=l),null===u?-1:u.index}]}))},"8ccb":function(t,e,s){"use strict";var r=s("1bd5");s("a4d3"),s("4de4"),s("4160"),s("a434"),s("e439"),s("dbb4"),s("b64b"),s("ac1f"),s("5319"),s("841c"),s("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s("e17f");var i=r(s("2241")),c=r(s("2fa7")),n=s("2f62");s("b970");function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function a(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(s,!0).forEach((function(e){(0,c.default)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var l={name:"my-search",data:function(){return{keyword:""}},props:{show:{type:Object,default:{}},isLocal:{type:Boolean,default:!1}},created:function(){this.keywords=this.historyKeywords?this.historyKeywords:[],this.getHotKeyword()},computed:a({},(0,n.mapState)({historyKeywords:function(t){return t.search.historyKeywords},hotKeywords:function(t){return t.search.hotKeywords}})),methods:a({},(0,n.mapMutations)({SET_KEYWORDS:"search/SET_KEYWORDS",CLEAR_KEYWORDS:"search/CLEAR_KEYWORDS"}),{},(0,n.mapActions)({getHotKeyword:"search/getHotKeyword"}),{goSearch:function(t){var e=t||this.keyword||"";if(e){if(this.keywords.length>0)for(var s=0;s<this.keywords.length;s++)this.keywords[s]===e&&this.keywords.splice(s--,1);this.keywords.unshift(e),this.SET_KEYWORDS({historyKeywords:this.keywords})}this.show.show=!1,this.isLocal?this.$router.replace("/goods/search?keyword="+e):this.$router.push("/goods/search?keyword="+e)},clearHistoryKeywords:function(){var t=this;this.historyKeywords.length>0&&i.default.confirm({title:"",message:"确认要删除吗？"}).then((function(){t.CLEAR_KEYWORDS()})).catch((function(){}))}})};e.default=l},ac8d:function(t,e,s){},d758:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page"},[s("div",{staticClass:"search-header",on:{click:function(e){t.searchShow.show=!0}}},[s("div",{staticClass:"back",on:{click:function(e){return t.goBack()}}}),s("div",{staticClass:"search"},[t._v("请输入宝贝名称")])]),s("div",{staticClass:"goods-main"},[s("div",{ref:"scroll-classify",staticClass:"classify-wrap"},[s("div",t._l(t.classifys,(function(e,r){return s("div",{key:r,ref:"item",refInFor:!0,class:{"classify-item":!0,active:e.active},on:{click:function(s){return t.replacePage("/goods/classify/item?cid="+e.cid,r)}}},[t._v(t._s(e.title))])})),0)]),s("div",{staticClass:"goods-content"},[s("router-view")],1)]),s("my-search",{attrs:{show:t.searchShow}})],1)},i=[];s.d(e,"a",(function(){return r})),s.d(e,"b",(function(){return i}))},e17f:function(t,e,s){"use strict";s.r(e);s("68ef"),s("4d75"),s("09fe"),s("2fcb")},e925:function(t,e,s){"use strict";var r=s("3bf0"),i=s.n(r);i.a}}]);
//# sourceMappingURL=chunk-bb4997ba.c5e47d1d.js.map