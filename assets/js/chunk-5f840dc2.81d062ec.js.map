{"version":3,"sources":["webpack:///src/pages/user/bind_cellphone/index.vue","webpack:///./src/pages/user/bind_cellphone/index.vue?c8f2","webpack:///./src/pages/user/bind_cellphone/index.vue?43e2","webpack:///./src/pages/user/bind_cellphone/index.vue?8df5","webpack:///./src/pages/user/bind_cellphone/index.vue","webpack:///./src/pages/user/bind_cellphone/index.vue?c699"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_m","staticStyle","directives","name","rawName","value","expression","domProps","on","$event","target","composing","cellphone","checkCellphone","msgCode","class","success","isSendMsgCode","getMsgCode","_v","_s","msgCodeText","submit","staticRenderFns","component"],"mappings":"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","file":"assets/js/chunk-5f840dc2.81d062ec.js","sourcesContent":["<template>\n    <div class=\"page\">\n        <SubHeader title=\"绑定手机\"></SubHeader>\n        <div class='main'>\n            <div class='tip'>\n                <div class='icon'></div>\n                <div class='text'>新手机号验证后，即可绑定成功！</div>\n            </div>\n            <div class='input-wrap' style=\"margin-top:0.5rem\">\n                <input type=\"tel\" class='cellphone' @input=\"checkCellphone\" placeholder='绑定手机号' v-model=\"cellphone\" />\n            </div>\n            <div class='input-wrap' style=\"margin-top:0.2rem\">\n                <input type=\"text\" class='code' placeholder='请输入短信验证码' v-model=\"msgCode\" />\n                <div :class=\"{'code-btn':true, success:isSendMsgCode}\" @click=\"getMsgCode\">{{msgCodeText}}</div>\n            </div>\n            <div class='save-btn' @click=\"submit\">下一步</div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {Toast} from \"vant\";\n    import {mapActions} from \"vuex\";\n    import SubHeader from \"../../../components/sub_header\";\n    export default {\n        name: \"bind-cellphone\",\n        data(){\n            return {\n                cellphone:\"\",\n                msgCode:\"\",\n                isSendMsgCode:false,\n                msgCodeText:\"获取验证码\"\n            }\n        },\n        components:{\n            SubHeader\n        },\n        mounted(){\n            document.title=this.$route.meta.title;\n        },\n        created(){\n            this.$utils.safeUser(this);\n            this.timer=null;\n            this.isSubmit=true;\n        },\n        methods:{\n            ...mapActions({\n                isReg:\"user/isReg\",\n                updateCellphone:\"user/updateCellphone\"\n            }),\n            //获取短信验证码\n            async getMsgCode(){\n                if(this.isSendMsgCode){\n                    if(this.cellphone.match(/^\\s*$/)){\n                        Toast(\"请输入手机号\");\n                        return;\n                    }\n                    if(!this.cellphone.match(/^1[0-9][0-9]\\d{8}$/)){\n                        Toast(\"您输入的手机号格式不正确\");\n                        return;\n                    }\n                    let regData=await this.isReg({username:this.cellphone});\n                    if(regData.data.isreg==='1'){\n                        Toast(\"此手机号已注册过，请更换手机号\");\n                        return;\n                    }\n                    this.isSendMsgCode=false;\n                    let time=10;\n                    this.msgCodeText=\"重新获取(\"+time+\")\";\n                    this.timer=setInterval(()=>{\n                        if(time>0){\n                            time--;\n                            this.msgCodeText=\"重新获取(\"+time+\")\";\n                        }else{\n                            clearInterval(this.timer);\n                            this.msgCodeText=\"获取短信验证码\";\n                            this.isSendMsgCode=true;\n                        }\n                    },1000)\n                }\n            },\n            checkCellphone(){\n                let isChecked=true;\n                if(this.cellphone.match(/^\\s*$/)){\n                    isChecked=false;\n                }\n                if(!this.cellphone.match(/^1[0-9][0-9]\\d{8}$/)){\n                    isChecked=false;\n                }\n                if(isChecked){\n                    this.isSendMsgCode=true;\n                }else{\n                    this.isSendMsgCode=false;\n                }\n            },\n            //修改手机号\n            async submit(){\n                if(this.cellphone.match(/^\\s*$/)){\n                    Toast(\"请输入手机号\");\n                    return;\n                }\n                if(!this.cellphone.match(/^1[0-9][0-9]\\d{8}$/)){\n                    Toast(\"您输入的手机号格式不正确\");\n                    return;\n                }\n                let regData=await this.isReg({username:this.cellphone});\n                if(regData.data.isreg==='1'){\n                    Toast(\"此手机号已注册过，请更换手机号\");\n                    return;\n                }\n                if(this.msgCode.match(/^\\s*$/)){\n                    Toast(\"请输入短信验证码\");\n                    return;\n                }\n                if(this.isSubmit){\n                    this.isSubmit=false;\n                    this.updateCellphone({cellphone:this.cellphone,vcode:this.msgCode,success:(res)=>{\n                            if(res.code===200){\n                                this.$router.go(-1);\n                            }else{\n                                Toast(res.data);\n                            }\n                        }})\n                }\n\n            },\n        },\n        beforeDestroy(){\n            clearInterval(this.timer);\n        }\n    }\n</script>\n\n<style scoped>\n\n    .page {\n        width: 100%;\n        min-height: 100vh;\n        background-color: #FFFFFF;\n    }\n\n    .main {\n        width: 100%;\n        padding-top: 1.02rem;\n    }\n\n    .main .tip {\n        width: 100%;\n        height: 1rem;\n        background-color: #F3F5C4;\n        color: #ac7700;\n        font-size: 0.28rem;\n        display: flex;\n        display: -webkit-flex;\n        align-items: center;\n        -webkit-align-items: center;\n    }\n\n    .main .tip .icon {\n        width: 0.4rem;\n        height: 0.4rem;\n        background-image: url(\"../../../assets/images/user/mobile/tip.png\");\n        background-size: 100%;\n        background-repeat: no-repeat;\n        background-position: center;\n        margin-left: 0.4rem;\n        margin-right: 0.2rem;\n    }\n\n    .main .tip .text {\n        width: auto;\n        height: auto;\n    }\n\n    .main .input-wrap {\n        width: 93%;\n        height: 0.8rem;\n        border: #c5cbcf solid 1px;\n        border-radius: 4px;\n        margin: 0 auto;\n        overflow: hidden;\n    }\n\n    .main .input-wrap .cellphone {\n        width: 93%;\n        height: 90%;\n        font-size: 0.28rem;\n        margin-left: 0.2rem;\n        margin-top: 0.05rem;\n    }\n\n    .main .input-wrap .code {\n        width: 69%;\n        height: 90%;\n        font-size: 0.28rem;\n        margin-left: 0.2rem;\n        margin-top: 0.05rem;\n        float: left;\n    }\n\n    .main .input-wrap .code-btn {\n        width: 27%;\n        height: 100%;\n        border-left: #EFEFEF 1px solid;\n        float: left;\n        font-size: 0.28rem;\n        color: #717376;\n        text-align: center;\n        line-height: 0.8rem;\n    }\n\n    .main .input-wrap .code-btn.success {\n        color: #EB1625\n    }\n\n    .main .save-btn {\n        width: 93%;\n        height: 0.8rem;\n        background-color: #E42321;\n        font-size: 0.28rem;\n        color: #FFFFFF;\n        text-align: center;\n        line-height: 0.8rem;\n        margin: 0 auto;\n        border-radius: 4px;\n        margin-top: 0.2rem;\n    }\n</style>","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=d7e814ea&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=d7e814ea&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('SubHeader',{attrs:{\"title\":\"绑定手机\"}}),_c('div',{staticClass:\"main\"},[_vm._m(0),_c('div',{staticClass:\"input-wrap\",staticStyle:{\"margin-top\":\"0.5rem\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.cellphone),expression:\"cellphone\"}],staticClass:\"cellphone\",attrs:{\"type\":\"tel\",\"placeholder\":\"绑定手机号\"},domProps:{\"value\":(_vm.cellphone)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.cellphone=$event.target.value},_vm.checkCellphone]}})]),_c('div',{staticClass:\"input-wrap\",staticStyle:{\"margin-top\":\"0.2rem\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msgCode),expression:\"msgCode\"}],staticClass:\"code\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入短信验证码\"},domProps:{\"value\":(_vm.msgCode)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.msgCode=$event.target.value}}}),_c('div',{class:{'code-btn':true, success:_vm.isSendMsgCode},on:{\"click\":_vm.getMsgCode}},[_vm._v(_vm._s(_vm.msgCodeText))])]),_c('div',{staticClass:\"save-btn\",on:{\"click\":_vm.submit}},[_vm._v(\"下一步\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip\"},[_c('div',{staticClass:\"icon\"}),_c('div',{staticClass:\"text\"},[_vm._v(\"新手机号验证后，即可绑定成功！\")])])}]\n\nexport { render, staticRenderFns }","export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"09f1e778-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=d7e814ea&scoped=true&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=d7e814ea&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=d7e814ea&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d7e814ea\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\""],"sourceRoot":""}