(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48bb1aa9"],{"0d03":function(e,t,r){var s=r("6eeb"),a=Date.prototype,n="Invalid Date",o="toString",i=a[o],c=a.getTime;new Date(NaN)+""!=n&&s(a,o,(function(){var e=c.call(this);return e===e?i.call(this):n}))},"28da":function(e,t,r){"use strict";var s=r("8a25"),a=r.n(s);a.a},"56b4":function(e,t,r){"use strict";r.r(t);var s=r("6e34"),a=r.n(s);for(var n in s)"default"!==n&&function(e){r.d(t,e,(function(){return s[e]}))}(n);t["default"]=a.a},"6d3e":function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("SubHeader",{attrs:{title:"会员注册"}}),r("div",{staticClass:"main"},[r("div",{staticClass:"inputs"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.vcode,expression:"vcode"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.vcode},on:{input:function(t){t.target.composing||(e.vcode=t.target.value)}}}),r("div",{staticClass:"vcode-img"},[r("img",{attrs:{src:e.showCode},on:{click:function(t){return e.changVCode(t)}}})])]),r("div",{staticClass:"cellphone-wrap"},[r("div",{staticClass:"cellphone"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.cellphone,expression:"cellphone"}],attrs:{type:"tel",placeholder:"请输入手机号"},domProps:{value:e.cellphone},on:{input:[function(t){t.target.composing||(e.cellphone=t.target.value)},e.checkCellphone]}})]),r("div",{class:{"code-btn":!0,success:e.isSendMsgCode},on:{click:e.getMsgCode}},[e._v(e._s(e.msgCodeText))])]),r("div",{staticClass:"code-wrap"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.msgCode,expression:"msgCode"}],attrs:{type:"text",placeholder:"请输入短信验证码"},domProps:{value:e.msgCode},on:{input:function(t){t.target.composing||(e.msgCode=t.target.value)}}})]),r("div",{staticClass:"password-wrap"},[r("div",{staticClass:"password"},["checkbox"===(e.isOpen?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"请输入密码",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var r=e.password,s=t.target,a=!!s.checked;if(Array.isArray(r)){var n=null,o=e._i(r,n);s.checked?o<0&&(e.password=r.concat([n])):o>-1&&(e.password=r.slice(0,o).concat(r.slice(o+1)))}else e.password=a}}}):"radio"===(e.isOpen?"text":"password")?r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"请输入密码",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{placeholder:"请输入密码",type:e.isOpen?"text":"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),r("div",{staticClass:"switch-wrap"},[r("van-switch",{attrs:{"active-color":"#EB1625"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}})],1)]),r("div",{staticClass:"sure-btn",on:{click:function(t){return e.submit()}}},[e._v("注册")])])],1)},a=[];r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return a}))},"6e34":function(e,t,r){"use strict";var s=r("1bd5");r("a4d3"),r("4de4"),r("4160"),r("0d03"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("ac1f"),r("466d"),r("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var a=s(r("2fa7"));r("b000");var n=s(r("1a23"));r("e7e5");var o=s(r("d399")),i=s(r("2b0e")),c=r("2f62"),d=(r("b970"),s(r("ba32")));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}i.default.use(o.default),i.default.use(n.default);var p={data:function(){return{showCode:this.$config.baseApi+"/vcode/chkcode?token="+this.$config.token,vcode:"",cellphone:"",msgCode:"",password:"",isOpen:!1,isSendMsgCode:!1,msgCodeText:"获取短信验证码"}},components:{SubHeader:d.default},created:function(){this.timer=null,this.isSubmit=!0},methods:l({},(0,c.mapActions)({checkVCode:"user/checkVCode",isReg:"user/isReg",regUser:"user/regUser"}),{changVCode:function(e){e.target.src=this.$config.baseApi+"/vcode/chkcode?token="+this.$config.token+"&random="+(new Date).getTime()},submit:function(){var e,t,r=this;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(!this.vcode.match(/^\s*$/)){s.next=3;break}return(0,o.default)("请输入图文验证码"),s.abrupt("return");case 3:return s.next=5,regeneratorRuntime.awrap(this.checkVCode({vcode:this.vcode}));case 5:if(e=s.sent,200===e.code){s.next=9;break}return(0,o.default)("您输入的图文验证码不正确"),s.abrupt("return");case 9:if(!this.cellphone.match(/^\s*$/)){s.next=12;break}return(0,o.default)("请输入手机号"),s.abrupt("return");case 12:if(this.cellphone.match(/^1[0-9][0-9]\d{8}$/)){s.next=15;break}return(0,o.default)("您输入的手机号格式不正确"),s.abrupt("return");case 15:return s.next=17,regeneratorRuntime.awrap(this.isReg({username:this.cellphone}));case 17:if(t=s.sent,"1"!==t.data.isreg){s.next=21;break}return(0,o.default)("此手机号已注册过，请更换手机号"),s.abrupt("return");case 21:if(!this.msgCode.match(/^\s*$/)){s.next=24;break}return(0,o.default)("请输入短信验证码"),s.abrupt("return");case 24:if(!this.password.match(/^\s*$/)){s.next=27;break}return(0,o.default)("请输入密码"),s.abrupt("return");case 27:this.isSubmit&&(this.isSubmit=!1,this.regUser({cellphone:this.cellphone,password:this.password,vcode:this.vcode,success:function(e){200===e.code?r.$router.push("/login?from=reg"):(0,o.default)(e.data)}}));case 28:case"end":return s.stop()}}),null,this)},getMsgCode:function(){var e,t,r,s=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(!this.isSendMsgCode){a.next=26;break}if(!this.vcode.match(/^\s*$/)){a.next=4;break}return(0,o.default)("请输入图文验证码"),a.abrupt("return");case 4:return a.next=6,regeneratorRuntime.awrap(this.checkVCode({vcode:this.vcode}));case 6:if(e=a.sent,200===e.code){a.next=10;break}return(0,o.default)("您输入的图文验证码不正确"),a.abrupt("return");case 10:if(!this.cellphone.match(/^\s*$/)){a.next=13;break}return(0,o.default)("请输入手机号"),a.abrupt("return");case 13:if(this.cellphone.match(/^1[0-9][0-9]\d{8}$/)){a.next=16;break}return(0,o.default)("您输入的手机号格式不正确"),a.abrupt("return");case 16:return a.next=18,regeneratorRuntime.awrap(this.isReg({username:this.cellphone}));case 18:if(t=a.sent,"1"!==t.data.isreg){a.next=22;break}return(0,o.default)("此手机号已注册过，请更换手机号"),a.abrupt("return");case 22:this.isSendMsgCode=!1,r=10,this.msgCodeText="重新获取("+r+")",this.timer=setInterval((function(){r>0?(r--,s.msgCodeText="重新获取("+r+")"):(clearInterval(s.timer),s.msgCodeText="获取短信验证码",s.isSendMsgCode=!0)}),1e3);case 26:case"end":return a.stop()}}),null,this)},checkCellphone:function(){var e=!0;this.cellphone.match(/^\s*$/)&&(e=!1),this.cellphone.match(/^1[0-9][0-9]\d{8}$/)||(e=!1),this.isSendMsgCode=!!e}}),beforeDestroy:function(){clearInterval(this.timer)}};t.default=p},"8a25":function(e,t,r){},b000:function(e,t,r){"use strict";r.r(t);r("68ef"),r("d9d2")},beb2:function(e,t,r){"use strict";r.r(t);var s=r("6d3e"),a=r("56b4");for(var n in a)"default"!==n&&function(e){r.d(t,e,(function(){return a[e]}))}(n);r("28da");var o=r("2877"),i=Object(o["a"])(a["default"],s["a"],s["b"],!1,null,"5a56cc16",null);t["default"]=i.exports},d9d2:function(e,t,r){}}]);
//# sourceMappingURL=chunk-48bb1aa9.d73284f7.js.map