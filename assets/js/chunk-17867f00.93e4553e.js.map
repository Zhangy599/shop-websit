{"version":3,"sources":["webpack:///./src/pages/user/order/list.vue?cf5c","webpack:///./src/assets/images/common/lazyImg.jpg","webpack:///./src/pages/user/order/list.vue?2afc","webpack:///./src/pages/user/order/list.vue?310c","webpack:///./src/assets/js/libs/uprefresh.js","webpack:///src/pages/user/order/list.vue","webpack:///./src/pages/user/order/list.vue","webpack:///./node_modules/vant/es/dialog/style/index.js","webpack:///./src/pages/user/order/list.vue?fc57"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","_l","item","index","key","staticClass","on","$event","$router","push","ordernum","_v","_s","status","item2","index2","attrs","image","title","amount","total","stopPropagation","cancelOrder","_e","sureOrder","staticRenderFns","global","document","factory","define","window","UpRefresh","fnScrollBottom","eventScroll","prototype","init","opts","callback","Object","iMaxPage","maxPage","fnCallback","iOffsetBottom","offsetBottom","iCurPage","curPage","_this","scrollBottom","bind","addEventListener","uneventSrcoll","removeEventListener","bScroll","timer","clearTimeout","setTimeout","iScrollHeight","documentElement","scrollHeight","body","iScrollTop","scrollTop","iWinHeight","clientHeight","component"],"mappings":"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","file":"assets/js/chunk-17867f00.93e4553e.js","sourcesContent":["import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","module.exports = __webpack_public_path__ + \"assets/img/lazyImg.639beef7.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.orders),function(item,index){return _c('div',{key:index,staticClass:\"order-list\",on:{\"click\":function($event){return _vm.$router.push('/user/order/details?ordernum='+item.ordernum)}}},[_c('div',{staticClass:\"ordernum-wrap\"},[_c('div',{staticClass:\"ordernum\"},[_vm._v(\"订单编号：\"+_vm._s(item.ordernum))]),_c('div',{staticClass:\"status\"},[_vm._v(_vm._s(item.status==='0'?'待付款':item.status==='1'?'待收货':'已收货'))])]),_vm._l((item.goods),function(item2,index2){return _c('div',{key:index2,staticClass:\"item-list\"},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"data-echo\":item2.image,\"src\":require(\"../../../assets/images/common/lazyImg.jpg\"),\"alt\":\"\"}})]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item2.title))]),_c('div',{staticClass:\"amount\"},[_vm._v(\"x \"+_vm._s(item2.amount))])])}),_c('div',{staticClass:\"total-wrap\"},[_c('div',{staticClass:\"total\"},[_vm._v(\"实付金额：¥\"+_vm._s(item.total))]),_c('div',{staticClass:\"status-wrap\"},[(item.status==='0')?_c('div',{staticClass:\"status-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.cancelOrder(index,item.ordernum)}}},[_vm._v(\"取消订单\")]):_vm._e(),_c('div',{staticClass:\"status-btn\",on:{\"click\":function($event){$event.stopPropagation();return _vm.sureOrder(index,item)}}},[_vm._v(_vm._s(item.status=='0'?'去付款':item.status=='1'?'确认收货':'已收货'))])])])],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"09f1e778-vue-loader-template\\\"}!../../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=template&id=64b0f2f5&scoped=true&\"","/*eslint-disable*/\r\n(function (global,document,factory) {\r\n    //这个判断支持模块化比如react和vue\r\n    if ( typeof module != 'undefined' && module.exports ) {\r\n        module.exports = factory(global,document);\r\n    } else if ( typeof define == 'function' && define.amd ) {\r\n        define( function () { return factory(global,document); } );\r\n    } else if(typeof global != \"undefined\") {\r\n        global.UpRefresh = factory(global,document);\r\n    }\r\n})(window, document,function (global,document) {\r\n    var UpRefresh=function(){\r\n        this.fnScrollBottom=null;\r\n        this.eventScroll();\r\n    };\r\n    UpRefresh.prototype={\r\n        init:function(opts,callback){\r\n            if(opts instanceof Object) {\r\n                this.opts = opts;\r\n                this.iMaxPage=this.opts.maxPage;\r\n                this.fnCallback=callback;\r\n                this.iOffsetBottom=this.opts.offsetBottom;\r\n                this.iCurPage=this.opts.curPage;\r\n            }\r\n\r\n        },\r\n        eventScroll:function(){\r\n            var _this=this;\r\n            _this.fnScrollBottom=_this.scrollBottom().bind(this);\r\n            global.addEventListener(\"scroll\",_this.fnScrollBottom,false);\r\n        },\r\n        uneventSrcoll:function(){\r\n            var _this=this;\r\n            global.removeEventListener(\"scroll\",_this.fnScrollBottom,false);\r\n        },\r\n        scrollBottom:function(){\r\n            var _this=this;\r\n            var bScroll=true;\r\n            return function(){\r\n                if(!bScroll){\r\n                    return;\r\n                }\r\n                bScroll=false;\r\n                var timer=null;\r\n                clearTimeout(timer);\r\n                timer = setTimeout(function(){\r\n                    //整个页面滚动条的高度\r\n                    var iScrollHeight=document.documentElement.scrollHeight || document.body.scrollHeight;\r\n                    //滚动到当前的距离\r\n                    var iScrollTop=document.documentElement.scrollTop || document.body.scrollTop;\r\n                    //整个窗体的高度\r\n                    var iWinHeight=document.documentElement.clientHeight || document.body.clientHeight;\r\n                    if(iScrollHeight-(iWinHeight+iScrollTop)<=_this.iOffsetBottom){\r\n                        if(_this.iCurPage<_this.iMaxPage) {\r\n                            _this.iCurPage++;\r\n                            _this.fnCallback(_this.iCurPage);\r\n                        }\r\n                    }\r\n                    bScroll=true;\r\n                },300);\r\n            }\r\n        }\r\n    };\r\n    return UpRefresh;\r\n});\r\n","<template>\n    <div>\n        <div class='order-list' v-for=\"(item,index) in orders\" :key=\"index\" @click=\"$router.push('/user/order/details?ordernum='+item.ordernum)\">\n            <div class='ordernum-wrap'>\n                <div class='ordernum'>订单编号：{{item.ordernum}}</div>\n                <div class='status'>{{item.status==='0'?'待付款':item.status==='1'?'待收货':'已收货'}}</div>\n            </div>\n            <div class='item-list' v-for=\"(item2,index2) in item.goods\" :key=\"index2\">\n                <div class='image'><img :data-echo=\"item2.image\" src=\"../../../assets/images/common/lazyImg.jpg\" alt=\"\"/></div>\n                <div class='title'>{{item2.title}}</div>\n                <div class='amount'>x {{item2.amount}}</div>\n            </div>\n            <div class='total-wrap'>\n                <div class='total'>实付金额：¥{{item.total}}</div>\n                <div class=\"status-wrap\">\n                    <div class='status-btn' v-if=\"item.status==='0'\" @click.stop=\"cancelOrder(index,item.ordernum)\">取消订单</div>\n                    <div class='status-btn' @click.stop=\"sureOrder(index,item)\">{{item.status=='0'?'去付款':item.status=='1'?'确认收货':'已收货'}}</div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {mapActions,mapState} from \"vuex\";\n    import UpRefresh from '../../../assets/js/libs/uprefresh';\n    import { Dialog } from 'vant';\n    export default {\n        name: \"order-list\",\n        methods:{\n            ...mapActions({\n                getMyOrder:\"order/getMyOrder\",\n                getMyOrderPage:\"order/getMyOrderPage\",\n                asyncCancelOrder:\"order/cancelOrder\",\n                asyncSureOrder:\"order/sureOrder\"\n            }),\n            getData(){\n                this.getMyOrder({status:this.status,page:1,success:(pageNum)=>{\n                        this.$nextTick(()=> {\n                            this.$utils.lazyImg();\n                        });\n                        this.pullUp.init({\"curPage\":1,\"maxPage\":parseInt(pageNum),\"offsetBottom\":100},(page)=>{\n                            this.getMyOrderPage({status:this.status,page:page});\n                        });\n                    }});\n            },\n            //取消订单\n            cancelOrder(index,orderNum){\n                Dialog.confirm({\n                    title: '',\n                    message: '确认要取消吗？'\n                }).then(() => {\n                    this.asyncCancelOrder({orderNum:orderNum,index:index});\n                }).catch(()=>{\n\n                })\n            },\n            //确认订单\n            sureOrder(index,item){\n                if(item.status!='2'){\n                    this.asyncSureOrder({orderNum:item.ordernum,index:index,status:2});\n                }\n            }\n        },\n        computed:{\n            ...mapState({\n                orders:state=>state.order.orders\n            })\n        },\n        created(){\n            this.status=this.$route.query.status?this.$route.query.status:\"all\";\n            this.pullUp=new UpRefresh();\n            this.getData();\n        },\n        beforeDestroy() {\n            this.pullUp.uneventSrcoll();\n        },\n        beforeRouteUpdate(to, from, next) {\n            this.status=to.query.status;\n            this.getData();\n            next();\n        }\n    }\n</script>\n\n<style scoped>\n    .order-list {\n        width: 100%;\n        height: auto;\n    }\n\n    .order-list .ordernum-wrap {\n        width: 96%;\n        height: 0.8rem;\n        border-bottom: #EFEFEF 1px solid;\n        display: flex;\n        display: -webkit-flex;\n        justify-content: space-between;\n        -webkit-justify-content: space-between;\n        padding-left: 2%;\n        padding-right: 2%;\n        align-items: center;\n        -webkit-align-items: center;\n    }\n\n    .order-list .ordernum-wrap .ordernum, .order-list .ordernum-wrap .status {\n        width: auto;\n        height: auto;\n        font-size: 0.28rem;\n    }\n\n    .item-list {\n        width: 100%;\n        height: 1.6rem;\n        border-bottom: #EFEFEF 1px solid;\n        position: relative;\n        z-index: 1;\n    }\n\n    .item-list .image {\n        width: 1.2rem;\n        height: 1.2rem;\n        position: absolute;\n        z-index: 1;\n        left: 2%;\n        top: 0.2rem;\n    }\n\n    .item-list .image img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .item-list .title {\n        width: 72%;\n        height: auto;\n        font-size: 0.28rem;\n        position: absolute;\n        z-index: 1;\n        left: 22%;\n        top: 0.2rem;\n    }\n\n    .item-list .amount {\n        width: auto;\n        height: auto;\n        position: absolute;\n        z-index: 1;\n        right: 2%;\n        bottom: 0.2rem;\n        font-size: 0.24rem;\n        color: #909090;\n    }\n\n    .total-wrap {\n        width: 96%;\n        height: 0.8rem;\n        border-bottom: 1px solid #F17F1F;\n        display: flex;\n        display: -webkit-flex;\n        align-items: center;\n        -webkit-align-items: center;\n        justify-content: space-between;\n        -webkit-justify-content: space-between;\n        padding-left: 2%;\n        padding-right: 2%;\n    }\n\n    .total-wrap .total {\n        font-size: 0.28rem;\n    }\n\n    .total-wrap .status-btn {\n        font-size: 0.24rem;\n        width: 1.24rem;\n        height: 0.52rem;\n        line-height: 0.52rem;\n        text-align: center;\n        border: 1px solid #f15353;\n        border-radius: 4px;\n        margin-left:0.2rem;\n    }\n\n    .total-wrap .status-wrap{display:flex;width:auto;justify-content: flex-end;}\n\n</style>","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=64b0f2f5&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=64b0f2f5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64b0f2f5\",\n  null\n  \n)\n\nexport default component.exports","import '../../style/base.css';\nimport '../../popup/index.css';\nimport '../../image/index.css';\nimport '../index.css';","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=64b0f2f5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=64b0f2f5&scoped=true&lang=css&\""],"sourceRoot":""}